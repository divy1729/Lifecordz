{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useEventCallback } from '@mui/material/utils';\nimport { GridSignature, useGridApiEventHandler } from \"../../utils/useGridApiEventHandler.js\";\nimport { useGridApiMethod } from \"../../utils/useGridApiMethod.js\";\nimport { useGridLogger } from \"../../utils/useGridLogger.js\";\nimport { useGridSelector } from \"../../utils/useGridSelector.js\";\nimport { gridRowsLookupSelector, gridRowMaximumTreeDepthSelector, gridRowTreeSelector } from \"../rows/gridRowsSelector.js\";\nimport { gridRowSelectionStateSelector, selectedGridRowsSelector, selectedIdsLookupSelector } from \"./gridRowSelectionSelector.js\";\nimport { gridPaginatedVisibleSortedGridRowIdsSelector } from \"../pagination/index.js\";\nimport { gridFocusCellSelector } from \"../focus/gridFocusStateSelector.js\";\nimport { gridExpandedSortedRowIdsSelector, gridFilteredRowsLookupSelector } from \"../filter/gridFilterSelector.js\";\nimport { GRID_CHECKBOX_SELECTION_COL_DEF, GRID_ACTIONS_COLUMN_TYPE } from \"../../../colDef/index.js\";\nimport { GridCellModes } from \"../../../models/gridEditRowModel.js\";\nimport { isKeyboardEvent, isNavigationKey } from \"../../../utils/keyboardUtils.js\";\nimport { getVisibleRows } from \"../../utils/useGridVisibleRows.js\";\nimport { GRID_DETAIL_PANEL_TOGGLE_FIELD } from \"../../../internals/constants.js\";\nimport { gridClasses } from \"../../../constants/gridClasses.js\";\nimport { isEventTargetInPortal } from \"../../../utils/domUtils.js\";\nimport { isMultipleRowSelectionEnabled, findRowsToSelect, findRowsToDeselect } from \"./utils.js\";\nconst getSelectionModelPropValue = (selectionModelProp, prevSelectionModel) => {\n  if (selectionModelProp == null) {\n    return selectionModelProp;\n  }\n  if (Array.isArray(selectionModelProp)) {\n    return selectionModelProp;\n  }\n  if (prevSelectionModel && prevSelectionModel[0] === selectionModelProp) {\n    return prevSelectionModel;\n  }\n  return [selectionModelProp];\n};\nexport const rowSelectionStateInitializer = (state, props) => _extends({}, state, {\n  rowSelection: props.rowSelection ? getSelectionModelPropValue(props.rowSelectionModel) ?? [] : []\n});\n\n/**\n * @requires useGridRows (state, method) - can be after\n * @requires useGridParamsApi (method) - can be after\n * @requires useGridFocus (state) - can be after\n * @requires useGridKeyboardNavigation (`cellKeyDown` event must first be consumed by it)\n */\nexport const useGridRowSelection = (apiRef, props) => {\n  const logger = useGridLogger(apiRef, 'useGridSelection');\n  const runIfRowSelectionIsEnabled = React.useCallback(callback => (...args) => {\n    if (props.rowSelection) {\n      callback(...args);\n    }\n  }, [props.rowSelection]);\n  const applyAutoSelection = props.signature !== GridSignature.DataGrid && (props.rowSelectionPropagation?.parents || props.rowSelectionPropagation?.descendants);\n  const propRowSelectionModel = React.useMemo(() => {\n    return getSelectionModelPropValue(props.rowSelectionModel, gridRowSelectionStateSelector(apiRef.current.state));\n  }, [apiRef, props.rowSelectionModel]);\n  const lastRowToggled = React.useRef(null);\n  apiRef.current.registerControlState({\n    stateId: 'rowSelection',\n    propModel: propRowSelectionModel,\n    propOnChange: props.onRowSelectionModelChange,\n    stateSelector: gridRowSelectionStateSelector,\n    changeEvent: 'rowSelectionChange'\n  });\n  const {\n    checkboxSelection,\n    disableRowSelectionOnClick,\n    isRowSelectable: propIsRowSelectable\n  } = props;\n  const canHaveMultipleSelection = isMultipleRowSelectionEnabled(props);\n  const tree = useGridSelector(apiRef, gridRowTreeSelector);\n  const isNestedData = useGridSelector(apiRef, gridRowMaximumTreeDepthSelector) > 1;\n  const expandMouseRowRangeSelection = React.useCallback(id => {\n    let endId = id;\n    const startId = lastRowToggled.current ?? id;\n    const isSelected = apiRef.current.isRowSelected(id);\n    if (isSelected) {\n      const visibleRowIds = gridExpandedSortedRowIdsSelector(apiRef);\n      const startIndex = visibleRowIds.findIndex(rowId => rowId === startId);\n      const endIndex = visibleRowIds.findIndex(rowId => rowId === endId);\n      if (startIndex === endIndex) {\n        return;\n      }\n      if (startIndex > endIndex) {\n        endId = visibleRowIds[endIndex + 1];\n      } else {\n        endId = visibleRowIds[endIndex - 1];\n      }\n    }\n    lastRowToggled.current = id;\n    apiRef.current.selectRowRange({\n      startId,\n      endId\n    }, !isSelected);\n  }, [apiRef]);\n\n  /*\n   * API METHODS\n   */\n  const setRowSelectionModel = React.useCallback(model => {\n    if (props.signature === GridSignature.DataGrid && !canHaveMultipleSelection && Array.isArray(model) && model.length > 1) {\n      throw new Error(['MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.', 'You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection.'].join('\\n'));\n    }\n    const currentModel = gridRowSelectionStateSelector(apiRef.current.state);\n    if (currentModel !== model) {\n      logger.debug(`Setting selection model`);\n      apiRef.current.setState(state => _extends({}, state, {\n        rowSelection: props.rowSelection ? model : []\n      }));\n      apiRef.current.forceUpdate();\n    }\n  }, [apiRef, logger, props.rowSelection, props.signature, canHaveMultipleSelection]);\n  const isRowSelected = React.useCallback(id => gridRowSelectionStateSelector(apiRef.current.state).includes(id), [apiRef]);\n  const isRowSelectable = React.useCallback(id => {\n    if (props.rowSelection === false) {\n      return false;\n    }\n    if (propIsRowSelectable && !propIsRowSelectable(apiRef.current.getRowParams(id))) {\n      return false;\n    }\n    const rowNode = gridRowTreeSelector(apiRef)[id];\n    if (rowNode?.type === 'footer' || rowNode?.type === 'pinnedRow') {\n      return false;\n    }\n    return true;\n  }, [apiRef, props.rowSelection, propIsRowSelectable]);\n  const getSelectedRows = React.useCallback(() => selectedGridRowsSelector(apiRef), [apiRef]);\n  const selectRow = React.useCallback((id, isSelected = true, resetSelection = false) => {\n    if (!apiRef.current.isRowSelectable(id)) {\n      return;\n    }\n    lastRowToggled.current = id;\n    if (resetSelection) {\n      logger.debug(`Setting selection for row ${id}`);\n      const newSelection = [];\n      const addRow = rowId => {\n        newSelection.push(rowId);\n      };\n      if (isSelected) {\n        addRow(id);\n        if (applyAutoSelection) {\n          findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n        }\n      }\n      apiRef.current.setRowSelectionModel(newSelection);\n    } else {\n      logger.debug(`Toggling selection for row ${id}`);\n      const selection = gridRowSelectionStateSelector(apiRef.current.state);\n      const newSelection = new Set(selection);\n      newSelection.delete(id);\n      const addRow = rowId => {\n        newSelection.add(rowId);\n      };\n      const removeRow = rowId => {\n        newSelection.delete(rowId);\n      };\n      if (isSelected) {\n        addRow(id);\n        if (applyAutoSelection) {\n          findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n        }\n      } else if (applyAutoSelection) {\n        findRowsToDeselect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, removeRow);\n      }\n      const isSelectionValid = newSelection.size < 2 || canHaveMultipleSelection;\n      if (isSelectionValid) {\n        apiRef.current.setRowSelectionModel(Array.from(newSelection));\n      }\n    }\n  }, [apiRef, logger, applyAutoSelection, tree, props.rowSelectionPropagation?.descendants, props.rowSelectionPropagation?.parents, canHaveMultipleSelection]);\n  const selectRows = React.useCallback((ids, isSelected = true, resetSelection = false) => {\n    logger.debug(`Setting selection for several rows`);\n    const selectableIds = ids.filter(id => apiRef.current.isRowSelectable(id));\n    let newSelection;\n    if (resetSelection) {\n      if (isSelected) {\n        newSelection = new Set(selectableIds);\n        if (applyAutoSelection) {\n          const addRow = rowId => {\n            newSelection.add(rowId);\n          };\n          selectableIds.forEach(id => {\n            findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n          });\n        }\n      } else {\n        newSelection = new Set();\n      }\n      const currentLookup = selectedIdsLookupSelector(apiRef);\n      if (newSelection.size === Object.keys(currentLookup).length && Array.from(newSelection).every(id => currentLookup[id] === id)) {\n        return;\n      }\n    } else {\n      newSelection = new Set(Object.values(selectedIdsLookupSelector(apiRef)));\n      const addRow = rowId => {\n        newSelection.add(rowId);\n      };\n      const removeRow = rowId => {\n        newSelection.delete(rowId);\n      };\n      selectableIds.forEach(id => {\n        if (isSelected) {\n          newSelection.add(id);\n          if (applyAutoSelection) {\n            findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n          }\n        } else {\n          removeRow(id);\n          if (applyAutoSelection) {\n            findRowsToDeselect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, removeRow);\n          }\n        }\n      });\n    }\n    const isSelectionValid = newSelection.size < 2 || canHaveMultipleSelection;\n    if (isSelectionValid) {\n      apiRef.current.setRowSelectionModel(Array.from(newSelection));\n    }\n  }, [logger, applyAutoSelection, canHaveMultipleSelection, apiRef, tree, props.rowSelectionPropagation?.descendants, props.rowSelectionPropagation?.parents]);\n  const getPropagatedRowSelectionModel = React.useCallback(inputSelectionModel => {\n    if (!isNestedData || !applyAutoSelection || inputSelectionModel.length === 0) {\n      return inputSelectionModel;\n    }\n    const propagatedSelectionModel = new Set(inputSelectionModel);\n    const addRow = rowId => {\n      propagatedSelectionModel.add(rowId);\n    };\n    for (const id of inputSelectionModel) {\n      findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow, propagatedSelectionModel);\n    }\n    return Array.from(propagatedSelectionModel);\n  }, [apiRef, tree, props.rowSelectionPropagation?.descendants, props.rowSelectionPropagation?.parents, isNestedData, applyAutoSelection]);\n  const selectRowRange = React.useCallback(({\n    startId,\n    endId\n  }, isSelected = true, resetSelection = false) => {\n    if (!apiRef.current.getRow(startId) || !apiRef.current.getRow(endId)) {\n      return;\n    }\n    logger.debug(`Expanding selection from row ${startId} to row ${endId}`);\n\n    // Using rows from all pages allow to select a range across several pages\n    const allPagesRowIds = gridExpandedSortedRowIdsSelector(apiRef);\n    const startIndex = allPagesRowIds.indexOf(startId);\n    const endIndex = allPagesRowIds.indexOf(endId);\n    const [start, end] = startIndex > endIndex ? [endIndex, startIndex] : [startIndex, endIndex];\n    const rowsBetweenStartAndEnd = allPagesRowIds.slice(start, end + 1);\n    apiRef.current.selectRows(rowsBetweenStartAndEnd, isSelected, resetSelection);\n  }, [apiRef, logger]);\n  const selectionPublicApi = {\n    selectRow,\n    setRowSelectionModel,\n    getSelectedRows,\n    isRowSelected,\n    isRowSelectable\n  };\n  const selectionPrivateApi = {\n    selectRows,\n    selectRowRange,\n    getPropagatedRowSelectionModel\n  };\n  useGridApiMethod(apiRef, selectionPublicApi, 'public');\n  useGridApiMethod(apiRef, selectionPrivateApi, props.signature === GridSignature.DataGrid ? 'private' : 'public');\n\n  /*\n   * EVENTS\n   */\n  const isFirstRender = React.useRef(true);\n  const removeOutdatedSelection = React.useCallback((sortModelUpdated = false) => {\n    if (isFirstRender.current) {\n      return;\n    }\n    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);\n    const rowsLookup = gridRowsLookupSelector(apiRef);\n    const filteredRowsLookup = gridFilteredRowsLookupSelector(apiRef);\n\n    // We clone the existing object to avoid mutating the same object returned by the selector to others part of the project\n    const selectionLookup = _extends({}, selectedIdsLookupSelector(apiRef));\n    const isNonExistent = id => {\n      if (props.filterMode === 'server') {\n        return !rowsLookup[id];\n      }\n      return !rowsLookup[id] || filteredRowsLookup[id] === false;\n    };\n    let hasChanged = false;\n    currentSelection.forEach(id => {\n      if (isNonExistent(id)) {\n        if (props.keepNonExistentRowsSelected) {\n          return;\n        }\n        delete selectionLookup[id];\n        hasChanged = true;\n        return;\n      }\n      if (!props.rowSelectionPropagation?.parents) {\n        return;\n      }\n      const node = tree[id];\n      if (node.type === 'group') {\n        const isAutoGenerated = node.isAutoGenerated;\n        if (isAutoGenerated) {\n          delete selectionLookup[id];\n          hasChanged = true;\n          return;\n        }\n        // Keep previously selected tree data parents selected if all their children are filtered out\n        if (!node.children.every(childId => filteredRowsLookup[childId] === false)) {\n          delete selectionLookup[id];\n          hasChanged = true;\n        }\n      }\n    });\n\n    // For nested data, on row tree updation (filtering, adding rows, etc.) when the selection is\n    // not empty, we need to re-run scanning of the tree to propagate the selection changes\n    // Example: A parent whose de-selected children are filtered out should now be selected\n    const shouldReapplyPropagation = isNestedData && props.rowSelectionPropagation?.parents && Object.keys(selectionLookup).length > 0;\n    if (hasChanged || shouldReapplyPropagation && !sortModelUpdated) {\n      const newSelection = Object.values(selectionLookup);\n      if (shouldReapplyPropagation) {\n        apiRef.current.selectRows(newSelection, true, true);\n      } else {\n        apiRef.current.setRowSelectionModel(newSelection);\n      }\n    }\n  }, [apiRef, isNestedData, props.rowSelectionPropagation?.parents, props.keepNonExistentRowsSelected, props.filterMode, tree]);\n  const handleSingleRowSelection = React.useCallback((id, event) => {\n    const hasCtrlKey = event.metaKey || event.ctrlKey;\n\n    // multiple selection is only allowed if:\n    // - it is a checkboxSelection\n    // - it is a keyboard selection\n    // - Ctrl is pressed\n\n    const isMultipleSelectionDisabled = !checkboxSelection && !hasCtrlKey && !isKeyboardEvent(event);\n    const resetSelection = !canHaveMultipleSelection || isMultipleSelectionDisabled;\n    const isSelected = apiRef.current.isRowSelected(id);\n    if (resetSelection) {\n      apiRef.current.selectRow(id, !isMultipleSelectionDisabled ? !isSelected : true, true);\n    } else {\n      apiRef.current.selectRow(id, !isSelected, false);\n    }\n  }, [apiRef, canHaveMultipleSelection, checkboxSelection]);\n  const handleRowClick = React.useCallback((params, event) => {\n    if (disableRowSelectionOnClick) {\n      return;\n    }\n    const field = event.target.closest(`.${gridClasses.cell}`)?.getAttribute('data-field');\n    if (field === GRID_CHECKBOX_SELECTION_COL_DEF.field) {\n      // click on checkbox should not trigger row selection\n      return;\n    }\n    if (field === GRID_DETAIL_PANEL_TOGGLE_FIELD) {\n      // click to open the detail panel should not select the row\n      return;\n    }\n    if (field) {\n      const column = apiRef.current.getColumn(field);\n      if (column?.type === GRID_ACTIONS_COLUMN_TYPE) {\n        return;\n      }\n    }\n    const rowNode = gridRowTreeSelector(apiRef)[params.id];\n    if (rowNode.type === 'pinnedRow') {\n      return;\n    }\n    if (event.shiftKey && canHaveMultipleSelection) {\n      expandMouseRowRangeSelection(params.id);\n    } else {\n      handleSingleRowSelection(params.id, event);\n    }\n  }, [disableRowSelectionOnClick, canHaveMultipleSelection, apiRef, expandMouseRowRangeSelection, handleSingleRowSelection]);\n  const preventSelectionOnShift = React.useCallback((params, event) => {\n    if (canHaveMultipleSelection && event.shiftKey) {\n      window.getSelection()?.removeAllRanges();\n    }\n  }, [canHaveMultipleSelection]);\n  const handleRowSelectionCheckboxChange = React.useCallback((params, event) => {\n    if (canHaveMultipleSelection && event.nativeEvent.shiftKey) {\n      expandMouseRowRangeSelection(params.id);\n    } else {\n      apiRef.current.selectRow(params.id, params.value, !canHaveMultipleSelection);\n    }\n  }, [apiRef, expandMouseRowRangeSelection, canHaveMultipleSelection]);\n  const handleHeaderSelectionCheckboxChange = React.useCallback(params => {\n    const rowsToBeSelected = props.pagination && props.checkboxSelectionVisibleOnly && props.paginationMode === 'client' ? gridPaginatedVisibleSortedGridRowIdsSelector(apiRef) : gridExpandedSortedRowIdsSelector(apiRef);\n    apiRef.current.selectRows(rowsToBeSelected, params.value);\n  }, [apiRef, props.checkboxSelectionVisibleOnly, props.pagination, props.paginationMode]);\n  const handleCellKeyDown = React.useCallback((params, event) => {\n    // Get the most recent cell mode because it may have been changed by another listener\n    if (apiRef.current.getCellMode(params.id, params.field) === GridCellModes.Edit) {\n      return;\n    }\n\n    // Ignore portal\n    // Do not apply shortcuts if the focus is not on the cell root component\n    if (isEventTargetInPortal(event)) {\n      return;\n    }\n    if (isNavigationKey(event.key) && event.shiftKey) {\n      // The cell that has focus after the keyboard navigation\n      const focusCell = gridFocusCellSelector(apiRef);\n      if (focusCell && focusCell.id !== params.id) {\n        event.preventDefault();\n        const isNextRowSelected = apiRef.current.isRowSelected(focusCell.id);\n        if (!canHaveMultipleSelection) {\n          apiRef.current.selectRow(focusCell.id, !isNextRowSelected, true);\n          return;\n        }\n        const newRowIndex = apiRef.current.getRowIndexRelativeToVisibleRows(focusCell.id);\n        const previousRowIndex = apiRef.current.getRowIndexRelativeToVisibleRows(params.id);\n        let start;\n        let end;\n        if (newRowIndex > previousRowIndex) {\n          if (isNextRowSelected) {\n            // We are navigating to the bottom of the page and adding selected rows\n            start = previousRowIndex;\n            end = newRowIndex - 1;\n          } else {\n            // We are navigating to the bottom of the page and removing selected rows\n            start = previousRowIndex;\n            end = newRowIndex;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (isNextRowSelected) {\n            // We are navigating to the top of the page and removing selected rows\n            start = newRowIndex + 1;\n            end = previousRowIndex;\n          } else {\n            // We are navigating to the top of the page and adding selected rows\n            start = newRowIndex;\n            end = previousRowIndex;\n          }\n        }\n        const visibleRows = getVisibleRows(apiRef);\n        const rowsBetweenStartAndEnd = visibleRows.rows.slice(start, end + 1).map(row => row.id);\n        apiRef.current.selectRows(rowsBetweenStartAndEnd, !isNextRowSelected);\n        return;\n      }\n    }\n    if (event.key === ' ' && event.shiftKey) {\n      event.preventDefault();\n      handleSingleRowSelection(params.id, event);\n      return;\n    }\n    if (String.fromCharCode(event.keyCode) === 'A' && (event.ctrlKey || event.metaKey)) {\n      event.preventDefault();\n      selectRows(apiRef.current.getAllRowIds(), true);\n    }\n  }, [apiRef, handleSingleRowSelection, selectRows, canHaveMultipleSelection]);\n  const syncControlledState = useEventCallback(() => {\n    if (!props.rowSelection) {\n      apiRef.current.setRowSelectionModel([]);\n      return;\n    }\n    if (propRowSelectionModel === undefined) {\n      return;\n    }\n    if (!applyAutoSelection || !isNestedData || propRowSelectionModel.length === 0) {\n      apiRef.current.setRowSelectionModel(propRowSelectionModel);\n      return;\n    }\n    const newSelectionModel = apiRef.current.getPropagatedRowSelectionModel(propRowSelectionModel);\n    if (newSelectionModel.length !== propRowSelectionModel.length || !newSelectionModel.every(id => propRowSelectionModel.includes(id))) {\n      apiRef.current.setRowSelectionModel(newSelectionModel);\n      return;\n    }\n    apiRef.current.setRowSelectionModel(propRowSelectionModel);\n  });\n  useGridApiEventHandler(apiRef, 'sortedRowsSet', runIfRowSelectionIsEnabled(() => removeOutdatedSelection(true)));\n  useGridApiEventHandler(apiRef, 'filteredRowsSet', runIfRowSelectionIsEnabled(() => removeOutdatedSelection()));\n  useGridApiEventHandler(apiRef, 'rowClick', runIfRowSelectionIsEnabled(handleRowClick));\n  useGridApiEventHandler(apiRef, 'rowSelectionCheckboxChange', runIfRowSelectionIsEnabled(handleRowSelectionCheckboxChange));\n  useGridApiEventHandler(apiRef, 'headerSelectionCheckboxChange', handleHeaderSelectionCheckboxChange);\n  useGridApiEventHandler(apiRef, 'cellMouseDown', runIfRowSelectionIsEnabled(preventSelectionOnShift));\n  useGridApiEventHandler(apiRef, 'cellKeyDown', runIfRowSelectionIsEnabled(handleCellKeyDown));\n\n  /*\n   * EFFECTS\n   */\n  React.useEffect(() => {\n    syncControlledState();\n  }, [apiRef, propRowSelectionModel, props.rowSelection, syncControlledState]);\n  const isStateControlled = propRowSelectionModel != null;\n  React.useEffect(() => {\n    if (isStateControlled || !props.rowSelection) {\n      return;\n    }\n\n    // props.isRowSelectable changed\n    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);\n    if (isRowSelectable) {\n      const newSelection = currentSelection.filter(id => isRowSelectable(id));\n      if (newSelection.length < currentSelection.length) {\n        apiRef.current.setRowSelectionModel(newSelection);\n      }\n    }\n  }, [apiRef, isRowSelectable, isStateControlled, props.rowSelection]);\n  React.useEffect(() => {\n    if (!props.rowSelection || isStateControlled) {\n      return;\n    }\n    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);\n    if (!canHaveMultipleSelection && currentSelection.length > 1) {\n      // See https://github.com/mui/mui-x/issues/8455\n      apiRef.current.setRowSelectionModel([]);\n    }\n  }, [apiRef, canHaveMultipleSelection, checkboxSelection, isStateControlled, props.rowSelection]);\n  React.useEffect(() => {\n    runIfRowSelectionIsEnabled(removeOutdatedSelection);\n  }, [removeOutdatedSelection, runIfRowSelectionIsEnabled]);\n  React.useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n    }\n  }, []);\n};","map":{"version":3,"names":["_extends","React","useEventCallback","GridSignature","useGridApiEventHandler","useGridApiMethod","useGridLogger","useGridSelector","gridRowsLookupSelector","gridRowMaximumTreeDepthSelector","gridRowTreeSelector","gridRowSelectionStateSelector","selectedGridRowsSelector","selectedIdsLookupSelector","gridPaginatedVisibleSortedGridRowIdsSelector","gridFocusCellSelector","gridExpandedSortedRowIdsSelector","gridFilteredRowsLookupSelector","GRID_CHECKBOX_SELECTION_COL_DEF","GRID_ACTIONS_COLUMN_TYPE","GridCellModes","isKeyboardEvent","isNavigationKey","getVisibleRows","GRID_DETAIL_PANEL_TOGGLE_FIELD","gridClasses","isEventTargetInPortal","isMultipleRowSelectionEnabled","findRowsToSelect","findRowsToDeselect","getSelectionModelPropValue","selectionModelProp","prevSelectionModel","Array","isArray","rowSelectionStateInitializer","state","props","rowSelection","rowSelectionModel","useGridRowSelection","apiRef","logger","runIfRowSelectionIsEnabled","useCallback","callback","args","applyAutoSelection","signature","DataGrid","rowSelectionPropagation","parents","descendants","propRowSelectionModel","useMemo","current","lastRowToggled","useRef","registerControlState","stateId","propModel","propOnChange","onRowSelectionModelChange","stateSelector","changeEvent","checkboxSelection","disableRowSelectionOnClick","isRowSelectable","propIsRowSelectable","canHaveMultipleSelection","tree","isNestedData","expandMouseRowRangeSelection","id","endId","startId","isSelected","isRowSelected","visibleRowIds","startIndex","findIndex","rowId","endIndex","selectRowRange","setRowSelectionModel","model","length","Error","join","currentModel","debug","setState","forceUpdate","includes","getRowParams","rowNode","type","getSelectedRows","selectRow","resetSelection","newSelection","addRow","push","selection","Set","delete","add","removeRow","isSelectionValid","size","from","selectRows","ids","selectableIds","filter","forEach","currentLookup","Object","keys","every","values","getPropagatedRowSelectionModel","inputSelectionModel","propagatedSelectionModel","getRow","allPagesRowIds","indexOf","start","end","rowsBetweenStartAndEnd","slice","selectionPublicApi","selectionPrivateApi","isFirstRender","removeOutdatedSelection","sortModelUpdated","currentSelection","rowsLookup","filteredRowsLookup","selectionLookup","isNonExistent","filterMode","hasChanged","keepNonExistentRowsSelected","node","isAutoGenerated","children","childId","shouldReapplyPropagation","handleSingleRowSelection","event","hasCtrlKey","metaKey","ctrlKey","isMultipleSelectionDisabled","handleRowClick","params","field","target","closest","cell","getAttribute","column","getColumn","shiftKey","preventSelectionOnShift","window","getSelection","removeAllRanges","handleRowSelectionCheckboxChange","nativeEvent","value","handleHeaderSelectionCheckboxChange","rowsToBeSelected","pagination","checkboxSelectionVisibleOnly","paginationMode","handleCellKeyDown","getCellMode","Edit","key","focusCell","preventDefault","isNextRowSelected","newRowIndex","getRowIndexRelativeToVisibleRows","previousRowIndex","visibleRows","rows","map","row","String","fromCharCode","keyCode","getAllRowIds","syncControlledState","undefined","newSelectionModel","useEffect","isStateControlled"],"sources":["/Users/divyanshsaxena/Documents/Lifecordz/frontend/node_modules/@mui/x-data-grid/hooks/features/rowSelection/useGridRowSelection.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useEventCallback } from '@mui/material/utils';\nimport { GridSignature, useGridApiEventHandler } from \"../../utils/useGridApiEventHandler.js\";\nimport { useGridApiMethod } from \"../../utils/useGridApiMethod.js\";\nimport { useGridLogger } from \"../../utils/useGridLogger.js\";\nimport { useGridSelector } from \"../../utils/useGridSelector.js\";\nimport { gridRowsLookupSelector, gridRowMaximumTreeDepthSelector, gridRowTreeSelector } from \"../rows/gridRowsSelector.js\";\nimport { gridRowSelectionStateSelector, selectedGridRowsSelector, selectedIdsLookupSelector } from \"./gridRowSelectionSelector.js\";\nimport { gridPaginatedVisibleSortedGridRowIdsSelector } from \"../pagination/index.js\";\nimport { gridFocusCellSelector } from \"../focus/gridFocusStateSelector.js\";\nimport { gridExpandedSortedRowIdsSelector, gridFilteredRowsLookupSelector } from \"../filter/gridFilterSelector.js\";\nimport { GRID_CHECKBOX_SELECTION_COL_DEF, GRID_ACTIONS_COLUMN_TYPE } from \"../../../colDef/index.js\";\nimport { GridCellModes } from \"../../../models/gridEditRowModel.js\";\nimport { isKeyboardEvent, isNavigationKey } from \"../../../utils/keyboardUtils.js\";\nimport { getVisibleRows } from \"../../utils/useGridVisibleRows.js\";\nimport { GRID_DETAIL_PANEL_TOGGLE_FIELD } from \"../../../internals/constants.js\";\nimport { gridClasses } from \"../../../constants/gridClasses.js\";\nimport { isEventTargetInPortal } from \"../../../utils/domUtils.js\";\nimport { isMultipleRowSelectionEnabled, findRowsToSelect, findRowsToDeselect } from \"./utils.js\";\nconst getSelectionModelPropValue = (selectionModelProp, prevSelectionModel) => {\n  if (selectionModelProp == null) {\n    return selectionModelProp;\n  }\n  if (Array.isArray(selectionModelProp)) {\n    return selectionModelProp;\n  }\n  if (prevSelectionModel && prevSelectionModel[0] === selectionModelProp) {\n    return prevSelectionModel;\n  }\n  return [selectionModelProp];\n};\nexport const rowSelectionStateInitializer = (state, props) => _extends({}, state, {\n  rowSelection: props.rowSelection ? getSelectionModelPropValue(props.rowSelectionModel) ?? [] : []\n});\n\n/**\n * @requires useGridRows (state, method) - can be after\n * @requires useGridParamsApi (method) - can be after\n * @requires useGridFocus (state) - can be after\n * @requires useGridKeyboardNavigation (`cellKeyDown` event must first be consumed by it)\n */\nexport const useGridRowSelection = (apiRef, props) => {\n  const logger = useGridLogger(apiRef, 'useGridSelection');\n  const runIfRowSelectionIsEnabled = React.useCallback(callback => (...args) => {\n    if (props.rowSelection) {\n      callback(...args);\n    }\n  }, [props.rowSelection]);\n  const applyAutoSelection = props.signature !== GridSignature.DataGrid && (props.rowSelectionPropagation?.parents || props.rowSelectionPropagation?.descendants);\n  const propRowSelectionModel = React.useMemo(() => {\n    return getSelectionModelPropValue(props.rowSelectionModel, gridRowSelectionStateSelector(apiRef.current.state));\n  }, [apiRef, props.rowSelectionModel]);\n  const lastRowToggled = React.useRef(null);\n  apiRef.current.registerControlState({\n    stateId: 'rowSelection',\n    propModel: propRowSelectionModel,\n    propOnChange: props.onRowSelectionModelChange,\n    stateSelector: gridRowSelectionStateSelector,\n    changeEvent: 'rowSelectionChange'\n  });\n  const {\n    checkboxSelection,\n    disableRowSelectionOnClick,\n    isRowSelectable: propIsRowSelectable\n  } = props;\n  const canHaveMultipleSelection = isMultipleRowSelectionEnabled(props);\n  const tree = useGridSelector(apiRef, gridRowTreeSelector);\n  const isNestedData = useGridSelector(apiRef, gridRowMaximumTreeDepthSelector) > 1;\n  const expandMouseRowRangeSelection = React.useCallback(id => {\n    let endId = id;\n    const startId = lastRowToggled.current ?? id;\n    const isSelected = apiRef.current.isRowSelected(id);\n    if (isSelected) {\n      const visibleRowIds = gridExpandedSortedRowIdsSelector(apiRef);\n      const startIndex = visibleRowIds.findIndex(rowId => rowId === startId);\n      const endIndex = visibleRowIds.findIndex(rowId => rowId === endId);\n      if (startIndex === endIndex) {\n        return;\n      }\n      if (startIndex > endIndex) {\n        endId = visibleRowIds[endIndex + 1];\n      } else {\n        endId = visibleRowIds[endIndex - 1];\n      }\n    }\n    lastRowToggled.current = id;\n    apiRef.current.selectRowRange({\n      startId,\n      endId\n    }, !isSelected);\n  }, [apiRef]);\n\n  /*\n   * API METHODS\n   */\n  const setRowSelectionModel = React.useCallback(model => {\n    if (props.signature === GridSignature.DataGrid && !canHaveMultipleSelection && Array.isArray(model) && model.length > 1) {\n      throw new Error(['MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.', 'You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection.'].join('\\n'));\n    }\n    const currentModel = gridRowSelectionStateSelector(apiRef.current.state);\n    if (currentModel !== model) {\n      logger.debug(`Setting selection model`);\n      apiRef.current.setState(state => _extends({}, state, {\n        rowSelection: props.rowSelection ? model : []\n      }));\n      apiRef.current.forceUpdate();\n    }\n  }, [apiRef, logger, props.rowSelection, props.signature, canHaveMultipleSelection]);\n  const isRowSelected = React.useCallback(id => gridRowSelectionStateSelector(apiRef.current.state).includes(id), [apiRef]);\n  const isRowSelectable = React.useCallback(id => {\n    if (props.rowSelection === false) {\n      return false;\n    }\n    if (propIsRowSelectable && !propIsRowSelectable(apiRef.current.getRowParams(id))) {\n      return false;\n    }\n    const rowNode = gridRowTreeSelector(apiRef)[id];\n    if (rowNode?.type === 'footer' || rowNode?.type === 'pinnedRow') {\n      return false;\n    }\n    return true;\n  }, [apiRef, props.rowSelection, propIsRowSelectable]);\n  const getSelectedRows = React.useCallback(() => selectedGridRowsSelector(apiRef), [apiRef]);\n  const selectRow = React.useCallback((id, isSelected = true, resetSelection = false) => {\n    if (!apiRef.current.isRowSelectable(id)) {\n      return;\n    }\n    lastRowToggled.current = id;\n    if (resetSelection) {\n      logger.debug(`Setting selection for row ${id}`);\n      const newSelection = [];\n      const addRow = rowId => {\n        newSelection.push(rowId);\n      };\n      if (isSelected) {\n        addRow(id);\n        if (applyAutoSelection) {\n          findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n        }\n      }\n      apiRef.current.setRowSelectionModel(newSelection);\n    } else {\n      logger.debug(`Toggling selection for row ${id}`);\n      const selection = gridRowSelectionStateSelector(apiRef.current.state);\n      const newSelection = new Set(selection);\n      newSelection.delete(id);\n      const addRow = rowId => {\n        newSelection.add(rowId);\n      };\n      const removeRow = rowId => {\n        newSelection.delete(rowId);\n      };\n      if (isSelected) {\n        addRow(id);\n        if (applyAutoSelection) {\n          findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n        }\n      } else if (applyAutoSelection) {\n        findRowsToDeselect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, removeRow);\n      }\n      const isSelectionValid = newSelection.size < 2 || canHaveMultipleSelection;\n      if (isSelectionValid) {\n        apiRef.current.setRowSelectionModel(Array.from(newSelection));\n      }\n    }\n  }, [apiRef, logger, applyAutoSelection, tree, props.rowSelectionPropagation?.descendants, props.rowSelectionPropagation?.parents, canHaveMultipleSelection]);\n  const selectRows = React.useCallback((ids, isSelected = true, resetSelection = false) => {\n    logger.debug(`Setting selection for several rows`);\n    const selectableIds = ids.filter(id => apiRef.current.isRowSelectable(id));\n    let newSelection;\n    if (resetSelection) {\n      if (isSelected) {\n        newSelection = new Set(selectableIds);\n        if (applyAutoSelection) {\n          const addRow = rowId => {\n            newSelection.add(rowId);\n          };\n          selectableIds.forEach(id => {\n            findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n          });\n        }\n      } else {\n        newSelection = new Set();\n      }\n      const currentLookup = selectedIdsLookupSelector(apiRef);\n      if (newSelection.size === Object.keys(currentLookup).length && Array.from(newSelection).every(id => currentLookup[id] === id)) {\n        return;\n      }\n    } else {\n      newSelection = new Set(Object.values(selectedIdsLookupSelector(apiRef)));\n      const addRow = rowId => {\n        newSelection.add(rowId);\n      };\n      const removeRow = rowId => {\n        newSelection.delete(rowId);\n      };\n      selectableIds.forEach(id => {\n        if (isSelected) {\n          newSelection.add(id);\n          if (applyAutoSelection) {\n            findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow);\n          }\n        } else {\n          removeRow(id);\n          if (applyAutoSelection) {\n            findRowsToDeselect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, removeRow);\n          }\n        }\n      });\n    }\n    const isSelectionValid = newSelection.size < 2 || canHaveMultipleSelection;\n    if (isSelectionValid) {\n      apiRef.current.setRowSelectionModel(Array.from(newSelection));\n    }\n  }, [logger, applyAutoSelection, canHaveMultipleSelection, apiRef, tree, props.rowSelectionPropagation?.descendants, props.rowSelectionPropagation?.parents]);\n  const getPropagatedRowSelectionModel = React.useCallback(inputSelectionModel => {\n    if (!isNestedData || !applyAutoSelection || inputSelectionModel.length === 0) {\n      return inputSelectionModel;\n    }\n    const propagatedSelectionModel = new Set(inputSelectionModel);\n    const addRow = rowId => {\n      propagatedSelectionModel.add(rowId);\n    };\n    for (const id of inputSelectionModel) {\n      findRowsToSelect(apiRef, tree, id, props.rowSelectionPropagation?.descendants ?? false, props.rowSelectionPropagation?.parents ?? false, addRow, propagatedSelectionModel);\n    }\n    return Array.from(propagatedSelectionModel);\n  }, [apiRef, tree, props.rowSelectionPropagation?.descendants, props.rowSelectionPropagation?.parents, isNestedData, applyAutoSelection]);\n  const selectRowRange = React.useCallback(({\n    startId,\n    endId\n  }, isSelected = true, resetSelection = false) => {\n    if (!apiRef.current.getRow(startId) || !apiRef.current.getRow(endId)) {\n      return;\n    }\n    logger.debug(`Expanding selection from row ${startId} to row ${endId}`);\n\n    // Using rows from all pages allow to select a range across several pages\n    const allPagesRowIds = gridExpandedSortedRowIdsSelector(apiRef);\n    const startIndex = allPagesRowIds.indexOf(startId);\n    const endIndex = allPagesRowIds.indexOf(endId);\n    const [start, end] = startIndex > endIndex ? [endIndex, startIndex] : [startIndex, endIndex];\n    const rowsBetweenStartAndEnd = allPagesRowIds.slice(start, end + 1);\n    apiRef.current.selectRows(rowsBetweenStartAndEnd, isSelected, resetSelection);\n  }, [apiRef, logger]);\n  const selectionPublicApi = {\n    selectRow,\n    setRowSelectionModel,\n    getSelectedRows,\n    isRowSelected,\n    isRowSelectable\n  };\n  const selectionPrivateApi = {\n    selectRows,\n    selectRowRange,\n    getPropagatedRowSelectionModel\n  };\n  useGridApiMethod(apiRef, selectionPublicApi, 'public');\n  useGridApiMethod(apiRef, selectionPrivateApi, props.signature === GridSignature.DataGrid ? 'private' : 'public');\n\n  /*\n   * EVENTS\n   */\n  const isFirstRender = React.useRef(true);\n  const removeOutdatedSelection = React.useCallback((sortModelUpdated = false) => {\n    if (isFirstRender.current) {\n      return;\n    }\n    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);\n    const rowsLookup = gridRowsLookupSelector(apiRef);\n    const filteredRowsLookup = gridFilteredRowsLookupSelector(apiRef);\n\n    // We clone the existing object to avoid mutating the same object returned by the selector to others part of the project\n    const selectionLookup = _extends({}, selectedIdsLookupSelector(apiRef));\n    const isNonExistent = id => {\n      if (props.filterMode === 'server') {\n        return !rowsLookup[id];\n      }\n      return !rowsLookup[id] || filteredRowsLookup[id] === false;\n    };\n    let hasChanged = false;\n    currentSelection.forEach(id => {\n      if (isNonExistent(id)) {\n        if (props.keepNonExistentRowsSelected) {\n          return;\n        }\n        delete selectionLookup[id];\n        hasChanged = true;\n        return;\n      }\n      if (!props.rowSelectionPropagation?.parents) {\n        return;\n      }\n      const node = tree[id];\n      if (node.type === 'group') {\n        const isAutoGenerated = node.isAutoGenerated;\n        if (isAutoGenerated) {\n          delete selectionLookup[id];\n          hasChanged = true;\n          return;\n        }\n        // Keep previously selected tree data parents selected if all their children are filtered out\n        if (!node.children.every(childId => filteredRowsLookup[childId] === false)) {\n          delete selectionLookup[id];\n          hasChanged = true;\n        }\n      }\n    });\n\n    // For nested data, on row tree updation (filtering, adding rows, etc.) when the selection is\n    // not empty, we need to re-run scanning of the tree to propagate the selection changes\n    // Example: A parent whose de-selected children are filtered out should now be selected\n    const shouldReapplyPropagation = isNestedData && props.rowSelectionPropagation?.parents && Object.keys(selectionLookup).length > 0;\n    if (hasChanged || shouldReapplyPropagation && !sortModelUpdated) {\n      const newSelection = Object.values(selectionLookup);\n      if (shouldReapplyPropagation) {\n        apiRef.current.selectRows(newSelection, true, true);\n      } else {\n        apiRef.current.setRowSelectionModel(newSelection);\n      }\n    }\n  }, [apiRef, isNestedData, props.rowSelectionPropagation?.parents, props.keepNonExistentRowsSelected, props.filterMode, tree]);\n  const handleSingleRowSelection = React.useCallback((id, event) => {\n    const hasCtrlKey = event.metaKey || event.ctrlKey;\n\n    // multiple selection is only allowed if:\n    // - it is a checkboxSelection\n    // - it is a keyboard selection\n    // - Ctrl is pressed\n\n    const isMultipleSelectionDisabled = !checkboxSelection && !hasCtrlKey && !isKeyboardEvent(event);\n    const resetSelection = !canHaveMultipleSelection || isMultipleSelectionDisabled;\n    const isSelected = apiRef.current.isRowSelected(id);\n    if (resetSelection) {\n      apiRef.current.selectRow(id, !isMultipleSelectionDisabled ? !isSelected : true, true);\n    } else {\n      apiRef.current.selectRow(id, !isSelected, false);\n    }\n  }, [apiRef, canHaveMultipleSelection, checkboxSelection]);\n  const handleRowClick = React.useCallback((params, event) => {\n    if (disableRowSelectionOnClick) {\n      return;\n    }\n    const field = event.target.closest(`.${gridClasses.cell}`)?.getAttribute('data-field');\n    if (field === GRID_CHECKBOX_SELECTION_COL_DEF.field) {\n      // click on checkbox should not trigger row selection\n      return;\n    }\n    if (field === GRID_DETAIL_PANEL_TOGGLE_FIELD) {\n      // click to open the detail panel should not select the row\n      return;\n    }\n    if (field) {\n      const column = apiRef.current.getColumn(field);\n      if (column?.type === GRID_ACTIONS_COLUMN_TYPE) {\n        return;\n      }\n    }\n    const rowNode = gridRowTreeSelector(apiRef)[params.id];\n    if (rowNode.type === 'pinnedRow') {\n      return;\n    }\n    if (event.shiftKey && canHaveMultipleSelection) {\n      expandMouseRowRangeSelection(params.id);\n    } else {\n      handleSingleRowSelection(params.id, event);\n    }\n  }, [disableRowSelectionOnClick, canHaveMultipleSelection, apiRef, expandMouseRowRangeSelection, handleSingleRowSelection]);\n  const preventSelectionOnShift = React.useCallback((params, event) => {\n    if (canHaveMultipleSelection && event.shiftKey) {\n      window.getSelection()?.removeAllRanges();\n    }\n  }, [canHaveMultipleSelection]);\n  const handleRowSelectionCheckboxChange = React.useCallback((params, event) => {\n    if (canHaveMultipleSelection && event.nativeEvent.shiftKey) {\n      expandMouseRowRangeSelection(params.id);\n    } else {\n      apiRef.current.selectRow(params.id, params.value, !canHaveMultipleSelection);\n    }\n  }, [apiRef, expandMouseRowRangeSelection, canHaveMultipleSelection]);\n  const handleHeaderSelectionCheckboxChange = React.useCallback(params => {\n    const rowsToBeSelected = props.pagination && props.checkboxSelectionVisibleOnly && props.paginationMode === 'client' ? gridPaginatedVisibleSortedGridRowIdsSelector(apiRef) : gridExpandedSortedRowIdsSelector(apiRef);\n    apiRef.current.selectRows(rowsToBeSelected, params.value);\n  }, [apiRef, props.checkboxSelectionVisibleOnly, props.pagination, props.paginationMode]);\n  const handleCellKeyDown = React.useCallback((params, event) => {\n    // Get the most recent cell mode because it may have been changed by another listener\n    if (apiRef.current.getCellMode(params.id, params.field) === GridCellModes.Edit) {\n      return;\n    }\n\n    // Ignore portal\n    // Do not apply shortcuts if the focus is not on the cell root component\n    if (isEventTargetInPortal(event)) {\n      return;\n    }\n    if (isNavigationKey(event.key) && event.shiftKey) {\n      // The cell that has focus after the keyboard navigation\n      const focusCell = gridFocusCellSelector(apiRef);\n      if (focusCell && focusCell.id !== params.id) {\n        event.preventDefault();\n        const isNextRowSelected = apiRef.current.isRowSelected(focusCell.id);\n        if (!canHaveMultipleSelection) {\n          apiRef.current.selectRow(focusCell.id, !isNextRowSelected, true);\n          return;\n        }\n        const newRowIndex = apiRef.current.getRowIndexRelativeToVisibleRows(focusCell.id);\n        const previousRowIndex = apiRef.current.getRowIndexRelativeToVisibleRows(params.id);\n        let start;\n        let end;\n        if (newRowIndex > previousRowIndex) {\n          if (isNextRowSelected) {\n            // We are navigating to the bottom of the page and adding selected rows\n            start = previousRowIndex;\n            end = newRowIndex - 1;\n          } else {\n            // We are navigating to the bottom of the page and removing selected rows\n            start = previousRowIndex;\n            end = newRowIndex;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (isNextRowSelected) {\n            // We are navigating to the top of the page and removing selected rows\n            start = newRowIndex + 1;\n            end = previousRowIndex;\n          } else {\n            // We are navigating to the top of the page and adding selected rows\n            start = newRowIndex;\n            end = previousRowIndex;\n          }\n        }\n        const visibleRows = getVisibleRows(apiRef);\n        const rowsBetweenStartAndEnd = visibleRows.rows.slice(start, end + 1).map(row => row.id);\n        apiRef.current.selectRows(rowsBetweenStartAndEnd, !isNextRowSelected);\n        return;\n      }\n    }\n    if (event.key === ' ' && event.shiftKey) {\n      event.preventDefault();\n      handleSingleRowSelection(params.id, event);\n      return;\n    }\n    if (String.fromCharCode(event.keyCode) === 'A' && (event.ctrlKey || event.metaKey)) {\n      event.preventDefault();\n      selectRows(apiRef.current.getAllRowIds(), true);\n    }\n  }, [apiRef, handleSingleRowSelection, selectRows, canHaveMultipleSelection]);\n  const syncControlledState = useEventCallback(() => {\n    if (!props.rowSelection) {\n      apiRef.current.setRowSelectionModel([]);\n      return;\n    }\n    if (propRowSelectionModel === undefined) {\n      return;\n    }\n    if (!applyAutoSelection || !isNestedData || propRowSelectionModel.length === 0) {\n      apiRef.current.setRowSelectionModel(propRowSelectionModel);\n      return;\n    }\n    const newSelectionModel = apiRef.current.getPropagatedRowSelectionModel(propRowSelectionModel);\n    if (newSelectionModel.length !== propRowSelectionModel.length || !newSelectionModel.every(id => propRowSelectionModel.includes(id))) {\n      apiRef.current.setRowSelectionModel(newSelectionModel);\n      return;\n    }\n    apiRef.current.setRowSelectionModel(propRowSelectionModel);\n  });\n  useGridApiEventHandler(apiRef, 'sortedRowsSet', runIfRowSelectionIsEnabled(() => removeOutdatedSelection(true)));\n  useGridApiEventHandler(apiRef, 'filteredRowsSet', runIfRowSelectionIsEnabled(() => removeOutdatedSelection()));\n  useGridApiEventHandler(apiRef, 'rowClick', runIfRowSelectionIsEnabled(handleRowClick));\n  useGridApiEventHandler(apiRef, 'rowSelectionCheckboxChange', runIfRowSelectionIsEnabled(handleRowSelectionCheckboxChange));\n  useGridApiEventHandler(apiRef, 'headerSelectionCheckboxChange', handleHeaderSelectionCheckboxChange);\n  useGridApiEventHandler(apiRef, 'cellMouseDown', runIfRowSelectionIsEnabled(preventSelectionOnShift));\n  useGridApiEventHandler(apiRef, 'cellKeyDown', runIfRowSelectionIsEnabled(handleCellKeyDown));\n\n  /*\n   * EFFECTS\n   */\n  React.useEffect(() => {\n    syncControlledState();\n  }, [apiRef, propRowSelectionModel, props.rowSelection, syncControlledState]);\n  const isStateControlled = propRowSelectionModel != null;\n  React.useEffect(() => {\n    if (isStateControlled || !props.rowSelection) {\n      return;\n    }\n\n    // props.isRowSelectable changed\n    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);\n    if (isRowSelectable) {\n      const newSelection = currentSelection.filter(id => isRowSelectable(id));\n      if (newSelection.length < currentSelection.length) {\n        apiRef.current.setRowSelectionModel(newSelection);\n      }\n    }\n  }, [apiRef, isRowSelectable, isStateControlled, props.rowSelection]);\n  React.useEffect(() => {\n    if (!props.rowSelection || isStateControlled) {\n      return;\n    }\n    const currentSelection = gridRowSelectionStateSelector(apiRef.current.state);\n    if (!canHaveMultipleSelection && currentSelection.length > 1) {\n      // See https://github.com/mui/mui-x/issues/8455\n      apiRef.current.setRowSelectionModel([]);\n    }\n  }, [apiRef, canHaveMultipleSelection, checkboxSelection, isStateControlled, props.rowSelection]);\n  React.useEffect(() => {\n    runIfRowSelectionIsEnabled(removeOutdatedSelection);\n  }, [removeOutdatedSelection, runIfRowSelectionIsEnabled]);\n  React.useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n    }\n  }, []);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}